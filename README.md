# CustomShop

A Minecraft plugin that implements custom shop designs as a complement to
chest-shops.

## Type of Shops

1. Vending Machines
2. Newt's Briefcase
3. Salesman's Deal (Coming Soon)

### Vending Machines

A shop design with 27 available slots used only for selling items. The shop is
capable of selling different types of items at once, each with its own price.

### Newt's Briefcase

A shop capable of holding virtually as much items of the same type as you want
(the real limit being Java's Integer.MAX_VALUE, 2 147 483 647). This shop can be
used for both selling and buying at the same time.

### Salesman's Deal

A shop capable of selling items at an offer of a discounted price if the
purchase exceeds a certain quantity (e.g. 1 for $10, 10 for $90).

## Models

### Vending Machine

<table style="margin: auto; text-align: center; max-width: 100%;">
<tbody><tr>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/9O1uP3E" title="Wooden Vending Machine">
<img src="https://i.imgur.com/9O1uP3E.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width:68px">
<a href="https://imgur.com/hCeiTmn" title="Stone Vending Machine">
<img src="https://i.imgur.com/hCeiTmn.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width:68px">
<a href="https://imgur.com/SyNNdEH" title="Nether Vending Machine">
<img src="https://i.imgur.com/SyNNdEH.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width:68px">
<a href="https://imgur.com/L9KKCZD" title="Sand Vending Machine">
<img src="https://i.imgur.com/L9KKCZD.png" decoding="async" width="128"></a>
</td></tr>
<tr>
<td>Wooden Vending Machine</td>
<td>Stone Vending Machine</td>
<td>Nether Vending Machine</td>
<td>Sand Vending Machine</td>
</tr>
<tr>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/1Jj8Gc6" title="Prismarine Vending Machine">
<img src="https://i.imgur.com/1Jj8Gc6.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/4WOLtzt" title="Ice Vending Machine">
<img src="https://i.imgur.com/4WOLtzt.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/Fq7LxFY" title="Blackstone Vending Machine">
<img src="https://i.imgur.com/Fq7LxFY.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/69eXO9J" title="Copper Vending Machine">
<img src="https://i.imgur.com/69eXO9J.png" decoding="async" width="128"></a>
</td></tr>
<tr>
<td>Prismarine Vending Machine</td>
<td>Ice Vending Machine</td>
<td>Blackstone Vending Machine</td>
<td>Copper Vending Machine</td>
</tr>
<tr>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/aPEKYGf" title="Amethyst Vending Machine">
<img src="https://i.imgur.com/aPEKYGf.png" decoding="async" width="128"></a>
</td></tr>
<tr>
<td>Amethyst Vending Machine</td>
</tr>
</tbody></table>

### Newt's Briefcase

<table style="margin: auto; text-align: center; max-width: 100%;">
<tbody><tr>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/soK7Y7L" title="Wooden Newt's Briefcase">
<img src="https://i.imgur.com/soK7Y7L.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width:68px">
<a href="https://imgur.com/bFFDlsm" title="Stone Newt's Briefcase">
<img src="https://i.imgur.com/bFFDlsm.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width:68px">
<a href="https://imgur.com/mUPWOaR" title="Nether Newt's Briefcase">
<img src="https://i.imgur.com/mUPWOaR.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width:68px">
<a href="https://imgur.com/JTlBSW6" title="Sand Newt's Briefcase">
<img src="https://i.imgur.com/JTlBSW6.png" decoding="async" width="128"></a>
</td></tr>
<tr>
<td>Wooden Newt's Briefcase</td>
<td>Stone Newt's Briefcase</td>
<td>Nether Newt's Briefcase</td>
<td>Sand Newt's Briefcase</td>
</tr>
<tr>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/2PvOCUg" title="Prismarine Newt's Briefcase">
<img src="https://i.imgur.com/2PvOCUg.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/zWdzADb" title="Ice Newt's Briefcase">
<img src="https://i.imgur.com/zWdzADb.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/7W8Di4O" title="Blackstone Newt's Briefcase">
<img src="https://i.imgur.com/7W8Di4O.png" decoding="async" width="128"></a>
</td>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/Eni93wR" title="Copper Newt's Briefcase">
<img src="https://i.imgur.com/Eni93wR.png" decoding="async" width="128"></a>
</td></tr>
<tr>
<td>Prismarine Newt's Briefcase</td>
<td>Ice Newt's Briefcase</td>
<td>Blackstone Newt's Briefcase</td>
<td>Copper Newt's Briefcase</td>
</tr>
<tr>
<td scope="col" style="width: 68px;">
<a href="https://imgur.com/VR8mnm3" title="Amethyst Vending Machine">
<img src="https://i.imgur.com/VR8mnm3.png" decoding="async" width="128"></a>
</td></tr>
<tr>
<td>Amethyst Newt's Briefcase</td>
</tr>
</tbody></table>

## Commands

The plugin provides the following commands:

-   `/customshop newshop` - Opens up a shop creation GUI with available designs
    for players to choose from.
-   `/customshop removeshop` - An alternative way of removing shops that you own
    other than breaking the shop manually.
-   `/customshop gettotal` - Get the total number of shops that you owned.
-   `/customshop setcrate` - Set a block as a crate to use the custom shop crate
    key on.
-   `/customshop lockall <player>` - Locks all the available designs of a player.
-   `/customshop givekey <player> <amount>` - Give player the specified amount
    of crate keys.

## Dependencies

The plugin requires **ProtocolLib**, **Vault** and one of its supporting economy
plugins to be enabled.

## Installation

1.  Download the latest version of the plugin .jar file and put it into the
    `plugins` folder.
2.  Download the resource pack needed to render the custom shop's textures here,
    and combine it with your server resource pack or put it in your personal
    resource pack folder.
3.  Start/restart the server.

## Deconflicts

There are certain data that this plugin uses that may conflict with other
plugins or the serverpack.

### Custom Model IDs

The following IDs for `Material.PAPER` are used for custom shops. Change
**BOTH** the conflicting IDs in the items' JSON and the respective IDs in
`config.yml`.

| **ID** | **Model**                  |
| ------ | -------------------------- |
| 100    | default_vending_machine    |
| 101    | wooden_vending_machine     |
| 102    | stone_vending_machine      |
| 103    | nether_vending_machine     |
| 104    | sand_vending_machine       |
| 105    | prismarine_vending_machine |
| 106    | ice_vending_machine        |
| 107    | blackstone_vending_machine |
| 108    | copper_vending_machine     |
| 109    | amethyst_vending_machine   |
| 200    | default_briefcase          |
| 201    | wooden_briefcase           |
| 202    | stone_briefcase            |
| 203    | nether_briefcase           |
| 204    | sand_briefcase             |
| 205    | prismarine_briefcase       |
| 206    | ice_briefcase              |
| 207    | blackstone_briefcase       |
| 208    | copper_briefcase           |
| 209    | amethyst_briefcase         |

### Display Names

The following display names are used for items used in GUIs and armor stands.
Blacklist these names so that players are not able to rename their items to the
following to abuse the plugin. Also check if these display names affect other
plugins.

| **Material**             | **Display Name**       |
| ------------------------ | ---------------------- |
| ARMOR_STAND              | `§5§lVending Machine`  |
|                          | `§5§lNewt's Briefcase` |
| ARROW                    | `§eNext`               |
|                          | `§eBack`               |
| BARRIER                  | `§cClose`              |
| BLACK_STAINED_GLASS_PANE | `<space>`              |

### Inventory Title

The plugin uses two following inventory titles. Check if these title conflicts
with other plugins.

1. `§e§lCustom Shops`
2. `§e§lAdmin Custom Shops`
3. `§5§lVending Machine`
4. `§5§lNewt's Briefcase`

## Adding Custom Models

You can design your own custom models. To do that, you just have to put the JSON
file into the resource pack and update `paper.json` with additional predicate
mapping to a custom model data (integer). Afterwhich, update the `config.yml`
file to include new model with its corresponding custom model data. More
informative instructions will be added _soon_.
